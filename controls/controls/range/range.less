@import (reference)'../mixins/helpers.less';
@import (reference)'../mixins/touch.less';
@import (reference)'../mixins/transforms.less';
@import (reference)'../mixins/transitions.less';
@import (reference) 'range.variables.less';

/// ============= Range Constants ============= ///

#platui {
    #__Range {
        #platui > #Range;
        @half-thickness: @thickness / 2;
    }
}

/// ========== Range Default Style =========== ///

.plat-range {
    #platui > #variables;
    #platui > #mixins;
    #platui > #Range;
    #platui > #__Range;
    position: relative;
    .fill();
    .user-select();
    .touch-action(none);
    .box-sizing(border-box);
    
    .plat-range-container {
        position: absolute;
        background-color: @neutral-color-light;
        overflow: visible;
        .calc(height; '100% - @{knob-radius} - @{knob-radius}');
        .border-radius(@fill-border-radius);
        .box-sizing(content-box);
        .box-shadow(inset 0px 1px 1px 0px rgba(0,0,0,0.15));

        .plat-range-track {
            position: absolute;
            background-color: @neutral-color-dark;
            overflow: visible;
            .box-shadow(inset 0px 1px 1px 0px darken(@neutral-color-dark, 10%));
            .border-radius(@fill-border-radius);
            .box-sizing(content-box);

            .plat-lower-knob,
            .plat-upper-knob {
                position: absolute;
                width: @knob-diameter;
                height: @knob-diameter;
                background-color: lighten(@pale-grey, 10%);
                border: @knob-border-size solid darken(@pale-grey, 5%);
                cursor: pointer;
                .border-radius(@knob-diameter / 2);
                .box-shadow(0px 1px 2px 0px rgba(50, 50, 50, 0.24));
                .box-sizing(border-box);
            }
        }
    }
    
    &.plat-horizontal,
    &.plat-horizontal-reversed {
        height: max(@knob-diameter, @knob-radius);

        .plat-range-container {
            .calc(top; '50% - @{half-thickness}');
            .calc(width; '100% - @{knob-radius} - @{knob-radius}');
            left: @knob-radius;
            height: @thickness;

            .plat-range-track {
                width: 100%;
                height: 100%;

                .plat-lower-knob {
                    .calc(top, '@{half-thickness} - @{knob-radius}');
                    left: -@knob-radius;
                }

                .plat-upper-knob {
                    .calc(top, '@{half-thickness} - @{knob-radius}');
                    right: -@knob-radius;
                }

                &.plat-transition-init {
                    .translateZ(0);
                    .transition(@horizontal-transition);
                }
            }
        }
    }

    &.plat-horizontal {
        .plat-range-container {
            .plat-range-track {
                left: 0;
            }
        }
    }

    &.plat-horizontal-reversed {
        .plat-range-container {
            .plat-range-track {
                right: 0;
            }
        }
    }

    &.plat-vertical,
    &.plat-vertical-reversed {
        width: @knob-diameter;

        .plat-range-container {
            .calc(left; '50% - @{half-thickness}');
            .calc(height; '100% - @{knob-radius} - @{knob-radius}');
            top: @knob-radius;
            width: @thickness;

            .plat-range-track {
                width: 100%;
                height: 0;

                .plat-lower-knob {
                    .calc(left, '@{half-thickness} - @{knob-radius}');
                    bottom: -@knob-radius;
                }

                .plat-upper-knob {
                    .calc(left, '@{half-thickness} - @{knob-radius}');
                    top: -@knob-radius;
                }

                &.plat-transition-init {
                    .translateZ(0);
                    .transition(@vertical-transition);
                }
            }
        }
    }

    &.plat-vertical {
        .plat-range-container {
            .plat-range-track {
                bottom: 0;
            }
        }
    }

    &.plat-vertical-reversed {
        .plat-range-container {
            .plat-range-track {
                top: 0;
            }
        }
    }

/// =========== Slider Color Options =========== ///

    &.range-primary {
        .plat-range-container {
            .plat-range-track {
                background-color: @primary-color;
                .box-shadow(inset 0px 1px 1px 0px darken(@primary-color, 10%));
            }
        }
    }

    &.range-secondary {
        .plat-range-container {
            .plat-range-track {
                background-color: @secondary-color;
                .box-shadow(inset 0px 1px 1px 0px darken(@secondary-color, 10%));
            }
        }
    }
        
    &.range-success {
        .plat-range-container {
            .plat-range-track {
                background-color: @success-color;
                .box-shadow(inset 0px 1px 1px 0px darken(@success-color, 10%));
            }
        }
    }

    &.range-caution {
        .plat-range-container {
            .plat-range-track {
                background-color: @caution-color;
                .box-shadow(inset 0px 1px 1px 0px darken(@caution-color, 10%));
            }
        }
    }

    &.range-danger {
        .plat-range-container {
            .plat-range-track {
                background-color: @danger-color;
                .box-shadow(inset 0px 1px 1px 0px darken(@danger-color, 10%));
            }
        }
    }
}
