@import (reference) '../mixins/helpers.less';
@import (reference) '../mixins/touch.less';
@import (reference) '../mixins/transforms.less';
@import (reference) '../mixins/transitions.less';
@import (reference) 'modal.variables.less';

/// =========== Modal Default Styles =========== ///

.plat-modal {
    #platui > #mixins;
    #platui > #Modal;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 999999;
    -webkit-backface-visibility: hidden;
    .fill();
    .box-sizing(border-box);
    .misc-webkit-touch();
    .user-select();
    .touch-action();

    .plat-modal-container {
        position: absolute;
        background-color: @background-color;
        color: @color;
        -webkit-backface-visibility: hidden;
        .fill();
        .scroll();
        .box-sizing(content-box);
        
        &.plat-no-transition,
        &.plat-modal-transition.plat-fade {
            top: 0;
            left: 0;
        }

        &.plat-modal-transition {
            .translateZ(0);

            &.plat-right {
                .transition(@right-transition);
                top: 0;
                left: -100%;

                &.plat-activate {
                    left: 0;
                }
            }

            &.plat-left {
                .transition(@left-transition);
                top: 0;
                right: -100%;

                &.plat-activate {
                    right: 0;
                }
            }

            &.plat-down {
                .transition(@down-transition);
                top: -100%;
                left: 0;

                &.plat-activate {
                    top: 0;
                }
            }

            &.plat-up {
                .transition(@up-transition);
                bottom: -100%;
                left: 0;

                &.plat-activate {
                    bottom: 0;
                }
            }

            &.plat-fade {
                opacity: 0;
                .transition(@fade-transition);

                &.plat-activate {
                    opacity: 1;
                }
            }
        }
    }

    &.modal-halfwidth {
        .plat-modal-container {
            width: 50%;
            height: 100%;

            &.plat-no-transition,
            &.plat-modal-transition.plat-fade {
                top: 0;
                left: @left;
            }

            &.plat-modal-transition {
                &.plat-right {
                    top: 0;
                    left: -50%;

                    &.plat-activate {
                        left: @left;
                    }
                }

                &.plat-left {
                    top: 0;
                    right: -50%;

                    &.plat-activate {
                        right: @left;
                    }
                }

                &.plat-down {
                    top: -100%;
                    left: @left;

                    &.plat-activate {
                        top: 0;
                    }
                }

                &.plat-up {
                    bottom: -100%;
                    left: @left;

                    &.plat-activate {
                        bottom: 0;
                    }
                }
            }
        }

        &.modal-centered {
            .plat-modal-container {
                &.plat-no-transition,
                &.plat-modal-transition.plat-fade,
                &.plat-modal-transition.plat-down,
                &.plat-modal-transition.plat-up {
                    left: 50%;
                    .translate-accelerate(-50%;0);
                }
                
                &.plat-modal-transition {
                    &.plat-right {
                        .translate-accelerate(-50%;0);

                        &.plat-activate {
                            left: 50%;
                        }
                    }

                    &.plat-left {
                        .translate-accelerate(50%;0);

                        &.plat-activate {
                            right: 50%;
                        }
                    }
                }
            }
        }
    }

    &.modal-halfheight {
        .plat-modal-container {
            width: 100%;
            height: 50%;

            &.plat-no-transition,
            &.plat-modal-transition.plat-fade {
                top: @top;
                left: 0;
            }

            &.plat-modal-transition {
                &.plat-right {
                    top: @top;
                    left: -100%;

                    &.plat-activate {
                        left: 0;
                    }
                }

                &.plat-left {
                    top: @top;
                    right: -100%;

                    &.plat-activate {
                        right: 0;
                    }
                }

                &.plat-down {
                    top: -50%;
                    left: 0;

                    &.plat-activate {
                        top: @top;
                    }
                }

                &.plat-up {
                    bottom: -50%;
                    left: 0;

                    &.plat-activate {
                        bottom: @top;
                    }
                }
            }
        }

        &.modal-centered {
            .plat-modal-container {
                &.plat-no-transition,
                &.plat-modal-transition.plat-fade,
                &.plat-modal-transition.plat-right,
                &.plat-modal-transition.plat-left {
                    top: 50%;
                    .translate-accelerate(0;-50%);
                }
                
                &.plat-modal-transition {
                    &.plat-down {
                        .translate-accelerate(0;-50%);

                        &.plat-activate {
                            top: 50%;
                        }
                    }

                    &.plat-up {
                        .translate-accelerate(0;50%);

                        &.plat-activate {
                            bottom: 50%;
                        }
                    }
                }
            }
        }
    }

    &.modal-half {
        .plat-modal-container {
            width: 50%;
            height: 50%;

            &.plat-no-transition,
            &.plat-modal-transition.plat-fade {
                top: @top;
                left: @left;
            }

            &.plat-modal-transition {
                &.plat-right {
                    top: @top;
                    left: -50%;

                    &.plat-activate {
                        left: @left;
                    }
                }

                &.plat-left {
                    top: @top;
                    right: -50%;

                    &.plat-activate {
                        right: @left;
                    }
                }

                &.plat-down {
                    top: -50%;
                    left: @left;

                    &.plat-activate {
                        top: @top;
                    }
                }

                &.plat-up {
                    bottom: -50%;
                    left: @left;

                    &.plat-activate {
                        bottom: @top;
                    }
                }
            }
        }

        &.modal-centered {
            .plat-modal-container {
                &.plat-no-transition,
                &.plat-modal-transition.plat-fade {
                    top: 50%;
                    left: 50%;
                    .translate-accelerate(-50%;-50%);
                }
                
                &.plat-modal-transition {
                    &.plat-right {
                        top: 50%;
                        .translate-accelerate(-50%;-50%);

                        &.plat-activate {
                            left: 50%;
                        }
                    }

                    &.plat-left {
                        top: 50%;
                        .translate-accelerate(50%;-50%);

                        &.plat-activate {
                            right: 50%;
                        }
                    }
                    
                    &.plat-down {
                        left: 50%;
                        .translate-accelerate(-50%;-50%);

                        &.plat-activate {
                            top: 50%;
                        }
                    }

                    &.plat-up {
                        left: 50%;
                        .translate-accelerate(-50%;50%);

                        &.plat-activate {
                            bottom: 50%;
                        }
                    }
                }
            }
        }
    }

    &.modal-custom {
        .plat-modal-container {
            width: @width;
            height: @height;

            &.plat-no-transition,
            &.plat-modal-transition.plat-fade {
                top: @top;
                left: @left;
            }

            &.plat-modal-transition {
                .plat-right {
                    top: @top;
                    left: -@width;

                    &.plat-activate {
                        left: @left;
                    }
                }

                &.plat-left {
                    top: @top;
                    right: -@width;

                    &.plat-activate {
                        right: @left;
                    }
                }

                &.plat-down {
                    top: -@height;
                    left: @left;

                    &.plat-activate {
                        top: @top;
                    }
                }

                &.plat-up {
                    bottom: -@height;
                    left: @left;

                    &.plat-activate {
                        bottom: @top;
                    }
                }
            }
        }

        &.modal-centered {
            .plat-modal-container {
                &.plat-no-transition,
                &.plat-modal-transition.plat-fade {
                    top: 50%;
                    left: 50%;
                    .translate-accelerate(-50%;-50%);
                }
                
                &.plat-modal-transition {
                    &.plat-right,
                    &.plat-down {
                        .translate-accelerate(-50%;-50%);
                    }

                    &.plat-left {
                        .translate-accelerate(50%;-50%);
                    }

                    &.plat-up {
                        .translate-accelerate(-50%;50%);
                    }
                }
            }
        }
    }
}
