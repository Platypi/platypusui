@import (reference) '../mixins/helpers.less';
@import (reference) '../mixins/transforms.less';
@import (reference) '../mixins/transitions.less';
@import (reference) 'toggle.variables.less';

/// ============= Toggle Constants ============= ///

#platui {
    #__Toggle {
        #platui > #Toggle;
        @height: @width * @ratio;
        @toggle-thin-height: @width * @toggle-thin-ratio;
        @half-thin-height: @toggle-thin-height / 2;
        @toggle-thin-knob-radius: (@width * @toggle-thin-knob-ratio) / 2;
    }
}

/// ========== Toggle Declaration =========== ///

& {
    #platui > #mixins;
    #platui > #__Toggle;

    .plat-toggle {
        .box-sizing(border-box);
        display: inline-block;
        cursor: pointer;

        .plat-toggle-container {
            .border-radius(@height);
            .box-sizing(content-box);
            .translateZ(0);
            .transition(~'background-color @{transition-time}, border-color @{transition-time}');
            width: @width;
            height: @height;
            position: relative;
            overflow: hidden;
            background-color: @background-color-off;
            border: 1px solid @border-color-off;

            .plat-knob {
                .border-radius(50%);
                .box-shadow(inset -1px 0px 3px 0px @pale-grey);
                .box-sizing(border-box);
                .translateZ(0);
                .transition(left @transition-time);
                position: absolute;
                top: 0;
                left: 0;
                height: @height;
                width: @height;
                background-color: @white;
            }

            &.plat-slide {
                border-color: @border-color-on;
                background-color: @background-color-on;

                .plat-knob {
                    .box-shadow(inset 1px -2px 3px 0px @pale-grey);
                    left: (@width - @height) * 1.05;
                }
            }
        }

    /// ============== Toggle Square =============== ///

        &.toggle-square {
            .plat-toggle-container {
                .border-radius(2px);

                .plat-knob {
                    .border-radius(2px);
                }
            }
        }

    /// =============== Toggle Thin ================ ///

        &.toggle-thin {
            .plat-toggle-container {
                height: @toggle-thin-height;
                overflow: visible;
                background-color: @toggle-thin-color-off;
                border: none;

                .plat-knob {
                    .box-shadow(2px 1px 2px 0px rgba(50, 50, 50, 0.24));
                    top: @half-thin-height - @toggle-thin-knob-radius;
                    background-color: lighten(@pale-grey, 10%);
                    border: 1px solid @pale-grey;
                }

                &.plat-slide {
                    background-color: @background-color-on;

                    .plat-knob {
                        .box-shadow(-2px 1px 2px 0px rgba(50, 50, 50, 0.24));
                    }
                }
            }
        }

    /// =========== Toggle Color Options =========== ///

        &.toggle-primary {
            .plat-toggle-container.plat-slide {
                background-color: @primary-color;
                border-color: darken(@primary-color, 5%);
            }
        }

        &.toggle-secondary {
            .plat-toggle-container.plat-slide {
                background-color: @secondary-color;
                border-color: darken(@secondary-color, 5%);
            }
        }

        &.toggle-success {
            .plat-toggle-container.plat-slide {
                background-color: @success-color;
                border-color: darken(@success-color, 5%);
            }
        }

        &.toggle-danger {
            .plat-toggle-container.plat-slide {
                background-color: @danger-color;
                border-color: darken(@danger-color, 5%);
            }
        }

        &.toggle-caution {
            .plat-toggle-container.plat-slide {
                background-color: @caution-color;
                border-color: darken(@caution-color, 5%);
            }
        }
    }
}
